(()=>{const e=document.getElementById("addTask"),t=document.getElementById("modal"),a=document.getElementById("overlay"),d=document.getElementById("closeModal"),s=document.getElementById("projects"),n=document.querySelector("[data-new-list-form]"),i=document.querySelector("[data-new-list-input]"),c=document.getElementById("taskPad"),l=document.getElementById("submitTask");e.addEventListener("click",(()=>{t.style.display="flex",a.style.opacity=1})),d.addEventListener("click",(()=>{t.style.display="none",a.style.opacity=0}));const o="taskPad.lists";let m=JSON.parse(localStorage.getItem(o))||[];function r(){taskContent=document.getElementById("taskContent"),E(taskContent);let e="taskPad"===h?m:u.find((e=>e.id===h)).tasks;e.forEach((t=>{taskContainer=document.getElementById("taskContent"),taskItem=document.createElement("div"),taskItem.classList.add("task-item"),priorityItem=document.createElement("div"),priorityItem.classList.add("task-item-priority"),priorityItem.innerText=t.priority,dateItem=document.createElement("div"),dateItem.classList.add("task-item-due-date"),dateItem.innerText=t.date,titleItem=document.createElement("h4"),titleItem.innerText=t.title,descriptionItem=document.createElement("p"),descriptionItem.classList.add("item-description"),descriptionItem.innerText=t.description,checkboxGroup=document.createElement("div"),checkboxGroup.classList.add("checkbox-group"),checkboxItem=document.createElement("input"),checkboxItem.addEventListener("click",(()=>{taskContainer.removeChild(taskItem),e.splice(taskItem,1),y()})),checkboxItem.classList.add("checkbox-input"),checkboxItem.type="checkbox",checkboxItem.name="checkbox",labelItem=document.createElement("label"),labelItem.for="checkbox",labelItem.classList.add("label-checkbox"),labelItem.innerText="Completed",checkboxGroup.appendChild(checkboxItem),checkboxGroup.appendChild(labelItem),deleteItem=document.createElement("i"),deleteItem.classList.add("fa","fa-trash","delete-task"),deleteItem.addEventListener("click",(()=>{taskContainer.removeChild(taskItem),e.splice(taskItem,1),y()})),taskItem.appendChild(deleteItem),taskItem.appendChild(checkboxGroup),taskItem.appendChild(titleItem),taskItem.appendChild(descriptionItem),taskItem.appendChild(dateItem),taskItem.appendChild(priorityItem),taskContainer.appendChild(taskItem)}))}function p(e,t,a,d){this.title=e,this.description=t,this.priority=a,this.date=d}l.addEventListener("click",(e=>{e.preventDefault(),t.style.display="none",a.style.opacity=0,E(document.getElementById("taskContent"));const d=document.getElementById("taskForm"),s=document.getElementById("taskTitle"),n=document.getElementById("taskDescription"),i=document.getElementById("taskPriority"),c=document.getElementById("taskDate");let l=new p(s.value,n.value,i.value,c.value);"taskPad"===h?m.unshift(l):u.find((e=>e.id===h)).tasks.unshift(l),r(),d.reset()}));const k="task.lists",I="task.selectedListId";let u=JSON.parse(localStorage.getItem(k))||[],h=localStorage.getItem(I);function y(){localStorage.setItem(k,JSON.stringify(u)),localStorage.setItem(o,JSON.stringify(m)),localStorage.setItem(I,h),v()}function v(){E(s),u.forEach((e=>{const t=document.createElement("button");t.classList.add("project-item","project-hover"),t.dataset.listId=e.id,t.innerText=e.name;const a=document.createElement("i");a.classList.add("fa","fa-trash","project-delete-button"),a.addEventListener("click",(()=>{s.removeChild(t),u=u.filter((e=>e.id!==t.dataset.listId)),y()})),t.appendChild(a),e.id===h&&(t.classList.add("active-list"),t.classList.remove("project-hover")),s.appendChild(t)})),r()}function E(e){for(;e.firstChild;)e.removeChild(e.firstChild)}c.addEventListener("click",(e=>{h="taskPad",c.classList.add("active-list"),c.classList.remove("project-hover"),r(),y()})),s.addEventListener("click",(e=>{"button"===e.target.tagName.toLowerCase()&&(h=e.target.dataset.listId,c.classList.add("project-hover"),c.classList.remove("active-list"),u.find((e=>e.id===h)),r(),y())})),n.addEventListener("submit",(e=>{e.preventDefault();const t=i.value;if(null===t||""===t)return alert("Project must have a name.");const a=(d=t,{id:Date.now().toString(),name:d,tasks:[]});var d;i.value=null,u.push(a),y()})),v()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiTUFBQSxNQUFNQSxFQUFjQyxTQUFTQyxlQUFlLFdBQ3RDQyxFQUFRRixTQUFTQyxlQUFlLFNBQ2hDRSxFQUFVSCxTQUFTQyxlQUFlLFdBQ2xDRyxFQUFhSixTQUFTQyxlQUFlLGNBQ3JDSSxFQUFtQkwsU0FBU0MsZUFBZSxZQUMzQ0ssRUFBY04sU0FBU08sY0FBYyx3QkFDckNDLEVBQWVSLFNBQVNPLGNBQWMseUJBQ3RDRSxFQUFVVCxTQUFTQyxlQUFlLFdBRWxDUyxFQUFpQlYsU0FBU0MsZUFBZSxjQUcvQ0YsRUFBWVksaUJBQWlCLFNBQVMsS0FDcENULEVBQU1VLE1BQU1DLFFBQVUsT0FDdEJWLEVBQVFTLE1BQU1FLFFBQVUsQ0FBQyxJQUczQlYsRUFBV08saUJBQWlCLFNBQVMsS0FDbkNULEVBQU1VLE1BQU1DLFFBQVUsT0FDdEJWLEVBQVFTLE1BQU1FLFFBQVUsQ0FBQyxJQUkzQixNQUFNQyxFQUFpQyxnQkFDdkMsSUFBSUMsRUFDRkMsS0FBS0MsTUFBTUMsYUFBYUMsUUFBUUwsS0FBb0MsR0FpRHRFLFNBQVNNLElBQ1BDLFlBQWN0QixTQUFTQyxlQUFlLGVBQ3RDc0IsRUFBYUQsYUFFYixJQUFJRSxFQWhCbUIsWUFBbkJDLEVBQ2FULEVBR0dVLEVBQU1DLE1BQU1DLEdBQ3JCQSxFQUFLQyxLQUFPSixJQUVNSyxNQVc3Qk4sRUFBU08sU0FBU0MsSUFDaEJDLGNBQWdCakMsU0FBU0MsZUFBZSxlQUN4Q2lDLFNBQVdsQyxTQUFTbUMsY0FBYyxPQUNsQ0QsU0FBU0UsVUFBVUMsSUFBSSxhQUV2QkMsYUFBZXRDLFNBQVNtQyxjQUFjLE9BQ3RDRyxhQUFhRixVQUFVQyxJQUFJLHNCQUMzQkMsYUFBYUMsVUFBWVAsRUFBS1EsU0FDOUJDLFNBQVd6QyxTQUFTbUMsY0FBYyxPQUNsQ00sU0FBU0wsVUFBVUMsSUFBSSxzQkFDdkJJLFNBQVNGLFVBQVlQLEVBQUtVLEtBQzFCQyxVQUFZM0MsU0FBU21DLGNBQWMsTUFDbkNRLFVBQVVKLFVBQVlQLEVBQUtZLE1BQzNCQyxnQkFBa0I3QyxTQUFTbUMsY0FBYyxLQUN6Q1UsZ0JBQWdCVCxVQUFVQyxJQUFJLG9CQUM5QlEsZ0JBQWdCTixVQUFZUCxFQUFLYyxZQUVqQ0MsY0FBZ0IvQyxTQUFTbUMsY0FBYyxPQUN2Q1ksY0FBY1gsVUFBVUMsSUFBSSxrQkFDNUJXLGFBQWVoRCxTQUFTbUMsY0FBYyxTQUN0Q2EsYUFBYXJDLGlCQUFpQixTQUFTLEtBQ3JDc0IsY0FBY2dCLFlBQVlmLFVBQzFCVixFQUFTMEIsT0FBT2hCLFNBQVUsR0FFMUJpQixHQUFlLElBRWpCSCxhQUFhWixVQUFVQyxJQUFJLGtCQUMzQlcsYUFBYUksS0FBTyxXQUNwQkosYUFBYUssS0FBTyxXQUNwQkMsVUFBWXRELFNBQVNtQyxjQUFjLFNBQ25DbUIsVUFBVUMsSUFBTSxXQUNoQkQsVUFBVWxCLFVBQVVDLElBQUksa0JBQ3hCaUIsVUFBVWYsVUFBWSxZQUN0QlEsY0FBY1MsWUFBWVIsY0FDMUJELGNBQWNTLFlBQVlGLFdBRTFCRyxXQUFhekQsU0FBU21DLGNBQWMsS0FDcENzQixXQUFXckIsVUFBVUMsSUFBSSxLQUFNLFdBQVksZUFDM0NvQixXQUFXOUMsaUJBQWlCLFNBQVMsS0FDbkNzQixjQUFjZ0IsWUFBWWYsVUFDMUJWLEVBQVMwQixPQUFPaEIsU0FBVSxHQUUxQmlCLEdBQWUsSUFHakJqQixTQUFTc0IsWUFBWUMsWUFDckJ2QixTQUFTc0IsWUFBWVQsZUFDckJiLFNBQVNzQixZQUFZYixXQUNyQlQsU0FBU3NCLFlBQVlYLGlCQUNyQlgsU0FBU3NCLFlBQVlmLFVBQ3JCUCxTQUFTc0IsWUFBWWxCLGNBRXJCTCxjQUFjdUIsWUFBWXRCLFNBQVMsR0FFdkMsQ0FFQSxTQUFTd0IsRUFBV2QsRUFBT0UsRUFBYU4sRUFBVUUsR0FDaERpQixLQUFLZixNQUFRQSxFQUNiZSxLQUFLYixZQUFjQSxFQUNuQmEsS0FBS25CLFNBQVdBLEVBQ2hCbUIsS0FBS2pCLEtBQU9BLENBQ2QsQ0FsSEFoQyxFQUFlQyxpQkFBaUIsU0FBVWlELElBQ3hDQSxFQUFFQyxpQkFDRjNELEVBQU1VLE1BQU1DLFFBQVUsT0FDdEJWLEVBQVFTLE1BQU1FLFFBQVUsRUFHeEJTLEVBRG9CdkIsU0FBU0MsZUFBZSxnQkFHNUMsTUFBTTZELEVBQU85RCxTQUFTQyxlQUFlLFlBQy9CMkMsRUFBUTVDLFNBQVNDLGVBQWUsYUFDaEM2QyxFQUFjOUMsU0FBU0MsZUFBZSxtQkFDdEN1QyxFQUFXeEMsU0FBU0MsZUFBZSxnQkFDbkN5QyxFQUFPMUMsU0FBU0MsZUFBZSxZQUVyQyxJQUFJK0IsRUFBTyxJQUFJMEIsRUFDYmQsRUFBTW1CLE1BQ05qQixFQUFZaUIsTUFDWnZCLEVBQVN1QixNQUNUckIsRUFBS3FCLE9BR2dCLFlBQW5CdEMsRUFDRlQsRUFBYWdELFFBQVFoQyxHQUVITixFQUFNQyxNQUFNQyxHQUNyQkEsRUFBS0MsS0FBT0osSUFFVEssTUFBTWtDLFFBQVFoQyxHQUc1QlgsSUFDQXlDLEVBQUtHLE9BQU8sSUFxRmQsTUFBTUMsRUFBeUIsYUFDekJDLEVBQXFDLHNCQUUzQyxJQUFJekMsRUFBUVQsS0FBS0MsTUFBTUMsYUFBYUMsUUFBUThDLEtBQTRCLEdBQ3BFekMsRUFBaUJOLGFBQWFDLFFBQVErQyxHQXdDMUMsU0FBU2hCLElBTVBoQyxhQUFhaUQsUUFBUUYsRUFBd0JqRCxLQUFLb0QsVUFBVTNDLElBQzVEUCxhQUFhaUQsUUFDWHJELEVBQ0FFLEtBQUtvRCxVQUFVckQsSUFFakJHLGFBQWFpRCxRQUFRRCxFQUFvQzFDLEdBVHpENkMsR0FDRixDQVdBLFNBQVNBLElBQ1AvQyxFQUFhbEIsR0FNYnFCLEVBQU1LLFNBQVNILElBQ2IsTUFBTTJDLEVBQWdCdkUsU0FBU21DLGNBQWMsVUFDN0NvQyxFQUFjbkMsVUFBVUMsSUFBSSxlQUFnQixpQkFDNUNrQyxFQUFjQyxRQUFRQyxPQUFTN0MsRUFBS0MsR0FDcEMwQyxFQUFjaEMsVUFBWVgsRUFBS3lCLEtBRS9CLE1BQU1xQixFQUFpQjFFLFNBQVNtQyxjQUFjLEtBQzlDdUMsRUFBZXRDLFVBQVVDLElBQUksS0FBTSxXQUFZLHlCQUMvQ3FDLEVBQWUvRCxpQkFBaUIsU0FBUyxLQUN2Q04sRUFBaUI0QyxZQUFZc0IsR0FDN0I3QyxFQUFRQSxFQUFNaUQsUUFBUS9DLEdBQVNBLEVBQUtDLEtBQU8wQyxFQUFjQyxRQUFRQyxTQUNqRXRCLEdBQWUsSUFHakJvQixFQUFjZixZQUFZa0IsR0FFdEI5QyxFQUFLQyxLQUFPSixJQUNkOEMsRUFBY25DLFVBQVVDLElBQUksZUFDNUJrQyxFQUFjbkMsVUFBVXdDLE9BQU8sa0JBR2pDdkUsRUFBaUJtRCxZQUFZZSxFQUFjLElBekI3Q2xELEdBQ0YsQ0E0QkEsU0FBU0UsRUFBYXNELEdBQ3BCLEtBQU9BLEVBQVFDLFlBQ2JELEVBQVE1QixZQUFZNEIsRUFBUUMsV0FFaEMsQ0F4RkFyRSxFQUFRRSxpQkFBaUIsU0FBVWlELElBQ2pDbkMsRUFBaUIsVUFDakJoQixFQUFRMkIsVUFBVUMsSUFBSSxlQUN0QjVCLEVBQVEyQixVQUFVd0MsT0FBTyxpQkFDekJ2RCxJQUNBOEIsR0FBZSxJQUdqQjlDLEVBQWlCTSxpQkFBaUIsU0FBVWlELElBQ0gsV0FBbkNBLEVBQUVtQixPQUFPQyxRQUFRQyxnQkFDbkJ4RCxFQUFpQm1DLEVBQUVtQixPQUFPUCxRQUFRQyxPQUNsQ2hFLEVBQVEyQixVQUFVQyxJQUFJLGlCQUN0QjVCLEVBQVEyQixVQUFVd0MsT0FBTyxlQUVQbEQsRUFBTUMsTUFBTUMsR0FDckJBLEVBQUtDLEtBQU9KLElBRXJCSixJQUVBOEIsSUFDRixJQUdGN0MsRUFBWUssaUJBQWlCLFVBQVdpRCxJQUN0Q0EsRUFBRUMsaUJBQ0YsTUFBTXFCLEVBQVcxRSxFQUFhdUQsTUFDOUIsR0FBaUIsT0FBYm1CLEdBQWtDLEtBQWJBLEVBQ3ZCLE9BQU9DLE1BQU0sNkJBQ2YsTUFBTXZELEdBTVl5QixFQU5NNkIsRUFPakIsQ0FBRXJELEdBQUl1RCxLQUFLQyxNQUFNQyxXQUFZakMsS0FBTUEsRUFBTXZCLE1BQU8sS0FEekQsSUFBb0J1QixFQUxsQjdDLEVBQWF1RCxNQUFRLEtBQ3JCckMsRUFBTTZELEtBQUszRCxHQUNYdUIsR0FBZSxJQTJEakJtQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhZGRUYXNrRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkVGFza1wiKTtcbmNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbFwiKTtcbmNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm92ZXJsYXlcIik7XG5jb25zdCBjbG9zZU1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZU1vZGFsXCIpO1xuY29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdHNcIik7XG5jb25zdCBuZXdMaXN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1uZXctbGlzdC1mb3JtXVwiKTtcbmNvbnN0IG5ld0xpc3RJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1uZXctbGlzdC1pbnB1dF1cIik7XG5jb25zdCB0YXNrUGFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrUGFkXCIpO1xuXG5jb25zdCBzdWJtaXRUYXNrRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0VGFza1wiKTtcblxuLy8gbW9kYWwgbG9naWNcbmFkZFRhc2tGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgb3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gMTtcbn0pO1xuXG5jbG9zZU1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgb3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gMDtcbn0pO1xuLy8gbW9kYWwgbG9naWMgXl5cblxuY29uc3QgTE9DQUxfU1RPUkFHRV9MSVNUX1RBU0tQQURfS0VZID0gXCJ0YXNrUGFkLmxpc3RzXCI7XG5sZXQgdGFza1BhZExpc3RzID1cbiAgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0xJU1RfVEFTS1BBRF9LRVkpKSB8fCBbXTtcblxuc3VibWl0VGFza0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBvdmVybGF5LnN0eWxlLm9wYWNpdHkgPSAwO1xuXG4gIGNvbnN0IHRhc2tDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrQ29udGVudFwiKTtcbiAgY2xlYXJFbGVtZW50KHRhc2tDb250ZW50KTtcblxuICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrRm9ybVwiKTtcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tUaXRsZVwiKTtcbiAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tEZXNjcmlwdGlvblwiKTtcbiAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tQcmlvcml0eVwiKTtcbiAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza0RhdGVcIik7XG5cbiAgbGV0IHRhc2sgPSBuZXcgY3JlYXRlVGFzayhcbiAgICB0aXRsZS52YWx1ZSxcbiAgICBkZXNjcmlwdGlvbi52YWx1ZSxcbiAgICBwcmlvcml0eS52YWx1ZSxcbiAgICBkYXRlLnZhbHVlXG4gICk7XG5cbiAgaWYgKHNlbGVjdGVkTGlzdElkID09PSBcInRhc2tQYWRcIikge1xuICAgIHRhc2tQYWRMaXN0cy51bnNoaWZ0KHRhc2spO1xuICB9IGVsc2Uge1xuICAgIGxldCBwcm9qZWN0TGlzdCA9IGxpc3RzLmZpbmQoKGxpc3QpID0+IHtcbiAgICAgIHJldHVybiBsaXN0LmlkID09PSBzZWxlY3RlZExpc3RJZDtcbiAgICB9KTtcbiAgICBwcm9qZWN0TGlzdC50YXNrcy51bnNoaWZ0KHRhc2spO1xuICB9XG5cbiAgcmVuZGVyVGFza3MoKTtcbiAgZm9ybS5yZXNldCgpO1xufSk7XG5cbmZ1bmN0aW9uIGxpc3RJZGVudGlmeWllcigpIHtcbiAgaWYgKHNlbGVjdGVkTGlzdElkID09PSBcInRhc2tQYWRcIikge1xuICAgIGxldCB0YXNrTGlzdCA9IHRhc2tQYWRMaXN0cztcbiAgICByZXR1cm4gdGFza0xpc3Q7XG4gIH0gZWxzZSB7XG4gICAgbGV0IHByb2plY3RMaXN0ID0gbGlzdHMuZmluZCgobGlzdCkgPT4ge1xuICAgICAgcmV0dXJuIGxpc3QuaWQgPT09IHNlbGVjdGVkTGlzdElkO1xuICAgIH0pO1xuICAgIGxldCB0YXNrTGlzdCA9IHByb2plY3RMaXN0LnRhc2tzO1xuICAgIHJldHVybiB0YXNrTGlzdDtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJUYXNrcygpIHtcbiAgdGFza0NvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tDb250ZW50XCIpO1xuICBjbGVhckVsZW1lbnQodGFza0NvbnRlbnQpO1xuXG4gIGxldCB0YXNrTGlzdCA9IGxpc3RJZGVudGlmeWllcigpO1xuXG4gIHRhc2tMaXN0LmZvckVhY2goKHRhc2spID0+IHtcbiAgICB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrQ29udGVudFwiKTtcbiAgICB0YXNrSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGFza0l0ZW0uY2xhc3NMaXN0LmFkZChcInRhc2staXRlbVwiKTtcblxuICAgIHByaW9yaXR5SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcHJpb3JpdHlJdGVtLmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWl0ZW0tcHJpb3JpdHlcIik7XG4gICAgcHJpb3JpdHlJdGVtLmlubmVyVGV4dCA9IHRhc2sucHJpb3JpdHk7XG4gICAgZGF0ZUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRhdGVJdGVtLmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWl0ZW0tZHVlLWRhdGVcIik7XG4gICAgZGF0ZUl0ZW0uaW5uZXJUZXh0ID0gdGFzay5kYXRlO1xuICAgIHRpdGxlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoNFwiKTtcbiAgICB0aXRsZUl0ZW0uaW5uZXJUZXh0ID0gdGFzay50aXRsZTtcbiAgICBkZXNjcmlwdGlvbkl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBkZXNjcmlwdGlvbkl0ZW0uY2xhc3NMaXN0LmFkZChcIml0ZW0tZGVzY3JpcHRpb25cIik7XG4gICAgZGVzY3JpcHRpb25JdGVtLmlubmVyVGV4dCA9IHRhc2suZGVzY3JpcHRpb247XG5cbiAgICBjaGVja2JveEdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjaGVja2JveEdyb3VwLmNsYXNzTGlzdC5hZGQoXCJjaGVja2JveC1ncm91cFwiKTtcbiAgICBjaGVja2JveEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY2hlY2tib3hJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0YXNrQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRhc2tJdGVtKTtcbiAgICAgIHRhc2tMaXN0LnNwbGljZSh0YXNrSXRlbSwgMSk7XG5cbiAgICAgIHNhdmVBbmRSZW5kZXIoKTtcbiAgICB9KTtcbiAgICBjaGVja2JveEl0ZW0uY2xhc3NMaXN0LmFkZChcImNoZWNrYm94LWlucHV0XCIpO1xuICAgIGNoZWNrYm94SXRlbS50eXBlID0gXCJjaGVja2JveFwiO1xuICAgIGNoZWNrYm94SXRlbS5uYW1lID0gXCJjaGVja2JveFwiO1xuICAgIGxhYmVsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBsYWJlbEl0ZW0uZm9yID0gXCJjaGVja2JveFwiO1xuICAgIGxhYmVsSXRlbS5jbGFzc0xpc3QuYWRkKFwibGFiZWwtY2hlY2tib3hcIik7XG4gICAgbGFiZWxJdGVtLmlubmVyVGV4dCA9IFwiQ29tcGxldGVkXCI7XG4gICAgY2hlY2tib3hHcm91cC5hcHBlbmRDaGlsZChjaGVja2JveEl0ZW0pO1xuICAgIGNoZWNrYm94R3JvdXAuYXBwZW5kQ2hpbGQobGFiZWxJdGVtKTtcblxuICAgIGRlbGV0ZUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICBkZWxldGVJdGVtLmNsYXNzTGlzdC5hZGQoXCJmYVwiLCBcImZhLXRyYXNoXCIsIFwiZGVsZXRlLXRhc2tcIik7XG4gICAgZGVsZXRlSXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGFza0NvbnRhaW5lci5yZW1vdmVDaGlsZCh0YXNrSXRlbSk7XG4gICAgICB0YXNrTGlzdC5zcGxpY2UodGFza0l0ZW0sIDEpO1xuXG4gICAgICBzYXZlQW5kUmVuZGVyKCk7XG4gICAgfSk7XG5cbiAgICB0YXNrSXRlbS5hcHBlbmRDaGlsZChkZWxldGVJdGVtKTtcbiAgICB0YXNrSXRlbS5hcHBlbmRDaGlsZChjaGVja2JveEdyb3VwKTtcbiAgICB0YXNrSXRlbS5hcHBlbmRDaGlsZCh0aXRsZUl0ZW0pO1xuICAgIHRhc2tJdGVtLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uSXRlbSk7XG4gICAgdGFza0l0ZW0uYXBwZW5kQ2hpbGQoZGF0ZUl0ZW0pO1xuICAgIHRhc2tJdGVtLmFwcGVuZENoaWxkKHByaW9yaXR5SXRlbSk7XG5cbiAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2tJdGVtKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRhc2sodGl0bGUsIGRlc2NyaXB0aW9uLCBwcmlvcml0eSwgZGF0ZSkge1xuICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICB0aGlzLmRhdGUgPSBkYXRlO1xufVxuXG5jb25zdCBMT0NBTF9TVE9SQUdFX0xJU1RfS0VZID0gXCJ0YXNrLmxpc3RzXCI7XG5jb25zdCBMT0NBTF9TVE9SQUdFX1NFTEVDVEVEX0xJU1RfSURfS0VZID0gXCJ0YXNrLnNlbGVjdGVkTGlzdElkXCI7XG5cbmxldCBsaXN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9MSVNUX0tFWSkpIHx8IFtdO1xubGV0IHNlbGVjdGVkTGlzdElkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9TRUxFQ1RFRF9MSVNUX0lEX0tFWSk7XG5cbnRhc2tQYWQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gIHNlbGVjdGVkTGlzdElkID0gXCJ0YXNrUGFkXCI7XG4gIHRhc2tQYWQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1saXN0XCIpO1xuICB0YXNrUGFkLmNsYXNzTGlzdC5yZW1vdmUoXCJwcm9qZWN0LWhvdmVyXCIpO1xuICByZW5kZXJUYXNrcygpO1xuICBzYXZlQW5kUmVuZGVyKCk7XG59KTtcblxucHJvamVjdENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgaWYgKGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJidXR0b25cIikge1xuICAgIHNlbGVjdGVkTGlzdElkID0gZS50YXJnZXQuZGF0YXNldC5saXN0SWQ7XG4gICAgdGFza1BhZC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC1ob3ZlclwiKTtcbiAgICB0YXNrUGFkLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtbGlzdFwiKTtcblxuICAgIGxldCBwcm9qZWN0TGlzdCA9IGxpc3RzLmZpbmQoKGxpc3QpID0+IHtcbiAgICAgIHJldHVybiBsaXN0LmlkID09PSBzZWxlY3RlZExpc3RJZDtcbiAgICB9KTtcbiAgICByZW5kZXJUYXNrcygpO1xuXG4gICAgc2F2ZUFuZFJlbmRlcigpO1xuICB9XG59KTtcblxubmV3TGlzdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGxpc3ROYW1lID0gbmV3TGlzdElucHV0LnZhbHVlO1xuICBpZiAobGlzdE5hbWUgPT09IG51bGwgfHwgbGlzdE5hbWUgPT09IFwiXCIpXG4gICAgcmV0dXJuIGFsZXJ0KFwiUHJvamVjdCBtdXN0IGhhdmUgYSBuYW1lLlwiKTtcbiAgY29uc3QgbGlzdCA9IGNyZWF0ZUxpc3QobGlzdE5hbWUpO1xuICBuZXdMaXN0SW5wdXQudmFsdWUgPSBudWxsO1xuICBsaXN0cy5wdXNoKGxpc3QpO1xuICBzYXZlQW5kUmVuZGVyKCk7XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlTGlzdChuYW1lKSB7XG4gIHJldHVybiB7IGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksIG5hbWU6IG5hbWUsIHRhc2tzOiBbXSB9O1xufVxuXG5mdW5jdGlvbiBzYXZlQW5kUmVuZGVyKCkge1xuICBzYXZlKCk7XG4gIHJlbmRlcigpO1xufVxuXG5mdW5jdGlvbiBzYXZlKCkge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0xJU1RfS0VZLCBKU09OLnN0cmluZ2lmeShsaXN0cykpO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICBMT0NBTF9TVE9SQUdFX0xJU1RfVEFTS1BBRF9LRVksXG4gICAgSlNPTi5zdHJpbmdpZnkodGFza1BhZExpc3RzKVxuICApO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX1NFTEVDVEVEX0xJU1RfSURfS0VZLCBzZWxlY3RlZExpc3RJZCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgY2xlYXJFbGVtZW50KHByb2plY3RDb250YWluZXIpO1xuICByZW5kZXJMaXN0KCk7XG4gIHJlbmRlclRhc2tzKCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckxpc3QoKSB7XG4gIGxpc3RzLmZvckVhY2goKGxpc3QpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBwcm9qZWN0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LWl0ZW1cIiwgXCJwcm9qZWN0LWhvdmVyXCIpO1xuICAgIHByb2plY3RCdXR0b24uZGF0YXNldC5saXN0SWQgPSBsaXN0LmlkO1xuICAgIHByb2plY3RCdXR0b24uaW5uZXJUZXh0ID0gbGlzdC5uYW1lO1xuXG4gICAgY29uc3QgZGVsZXRlTGlzdEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICBkZWxldGVMaXN0SWNvbi5jbGFzc0xpc3QuYWRkKFwiZmFcIiwgXCJmYS10cmFzaFwiLCBcInByb2plY3QtZGVsZXRlLWJ1dHRvblwiKTtcbiAgICBkZWxldGVMaXN0SWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgcHJvamVjdENvbnRhaW5lci5yZW1vdmVDaGlsZChwcm9qZWN0QnV0dG9uKTtcbiAgICAgIGxpc3RzID0gbGlzdHMuZmlsdGVyKChsaXN0KSA9PiBsaXN0LmlkICE9PSBwcm9qZWN0QnV0dG9uLmRhdGFzZXQubGlzdElkKTtcbiAgICAgIHNhdmVBbmRSZW5kZXIoKTtcbiAgICB9KTtcblxuICAgIHByb2plY3RCdXR0b24uYXBwZW5kQ2hpbGQoZGVsZXRlTGlzdEljb24pO1xuXG4gICAgaWYgKGxpc3QuaWQgPT09IHNlbGVjdGVkTGlzdElkKSB7XG4gICAgICBwcm9qZWN0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtbGlzdFwiKTtcbiAgICAgIHByb2plY3RCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcInByb2plY3QtaG92ZXJcIik7XG4gICAgfVxuXG4gICAgcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0QnV0dG9uKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNsZWFyRWxlbWVudChlbGVtZW50KSB7XG4gIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gIH1cbn1cblxucmVuZGVyKCk7XG4iXSwibmFtZXMiOlsiYWRkVGFza0Zvcm0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibW9kYWwiLCJvdmVybGF5IiwiY2xvc2VNb2RhbCIsInByb2plY3RDb250YWluZXIiLCJuZXdMaXN0Rm9ybSIsInF1ZXJ5U2VsZWN0b3IiLCJuZXdMaXN0SW5wdXQiLCJ0YXNrUGFkIiwic3VibWl0VGFza0Zvcm0iLCJhZGRFdmVudExpc3RlbmVyIiwic3R5bGUiLCJkaXNwbGF5Iiwib3BhY2l0eSIsIkxPQ0FMX1NUT1JBR0VfTElTVF9UQVNLUEFEX0tFWSIsInRhc2tQYWRMaXN0cyIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJyZW5kZXJUYXNrcyIsInRhc2tDb250ZW50IiwiY2xlYXJFbGVtZW50IiwidGFza0xpc3QiLCJzZWxlY3RlZExpc3RJZCIsImxpc3RzIiwiZmluZCIsImxpc3QiLCJpZCIsInRhc2tzIiwiZm9yRWFjaCIsInRhc2siLCJ0YXNrQ29udGFpbmVyIiwidGFza0l0ZW0iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwicHJpb3JpdHlJdGVtIiwiaW5uZXJUZXh0IiwicHJpb3JpdHkiLCJkYXRlSXRlbSIsImRhdGUiLCJ0aXRsZUl0ZW0iLCJ0aXRsZSIsImRlc2NyaXB0aW9uSXRlbSIsImRlc2NyaXB0aW9uIiwiY2hlY2tib3hHcm91cCIsImNoZWNrYm94SXRlbSIsInJlbW92ZUNoaWxkIiwic3BsaWNlIiwic2F2ZUFuZFJlbmRlciIsInR5cGUiLCJuYW1lIiwibGFiZWxJdGVtIiwiZm9yIiwiYXBwZW5kQ2hpbGQiLCJkZWxldGVJdGVtIiwiY3JlYXRlVGFzayIsInRoaXMiLCJlIiwicHJldmVudERlZmF1bHQiLCJmb3JtIiwidmFsdWUiLCJ1bnNoaWZ0IiwicmVzZXQiLCJMT0NBTF9TVE9SQUdFX0xJU1RfS0VZIiwiTE9DQUxfU1RPUkFHRV9TRUxFQ1RFRF9MSVNUX0lEX0tFWSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZW5kZXIiLCJwcm9qZWN0QnV0dG9uIiwiZGF0YXNldCIsImxpc3RJZCIsImRlbGV0ZUxpc3RJY29uIiwiZmlsdGVyIiwicmVtb3ZlIiwiZWxlbWVudCIsImZpcnN0Q2hpbGQiLCJ0YXJnZXQiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJsaXN0TmFtZSIsImFsZXJ0IiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwicHVzaCJdLCJzb3VyY2VSb290IjoiIn0=